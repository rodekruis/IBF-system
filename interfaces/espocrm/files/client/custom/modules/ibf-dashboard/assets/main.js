import{$a as Zn,A as bn,B as Dn,Ca as ot,Da as it,Ea as Ln,Fa as Bn,Ia as rt,L as yt,Lb as Vn,M as De,N as Te,O as Mn,P as xn,Q as Pn,R as Fn,S as An,a as un,ab as Hn,b as Ke,bb as $n,c as mn,l as fn,m as Ne,n as pn,o as Je,p as Ct,q as hn,r as gn,s as vn,t as In,u as Cn,w as yn,x as En,xa as zn,y as et,ya as On,za as Nn}from"./chunk-ALCGCR22.js";import{$ as be,$a as en,Cb as Xe,Db as qe,Eb as It,Fb as sn,Gb as cn,N as qt,Nb as Ye,Ob as Qe,P as ze,Ra as ht,Sb as an,T as he,Ta as Kt,Tb as ln,Ua as Jt,Ub as dn,Wa as gt,Y as ce,Za as G,c as Gt,cb as _e,da as Yt,gb as tn,h as Ut,hb as vt,ia as pt,j as We,ja as Ge,la as Qt,na as ke,oa as Se,qc as Oe,ra as Ue,sb as nn,wb as on,x as Xt,yb as rn}from"./chunk-PGRPMVR3.js";import"./chunk-TIH5F2KH.js";import"./chunk-B5XQ7TKQ.js";import"./chunk-BO3ZMA52.js";import"./chunk-PJESZOJ6.js";import"./chunk-RUCIPP4B.js";import"./chunk-EOLXYSZT.js";import"./chunk-ML323QJR.js";import"./chunk-T73M47G3.js";import"./chunk-YFLKBEOU.js";import"./chunk-LNB4W5VB.js";import"./chunk-BIH5U2FI.js";import"./chunk-A522IUEG.js";import{g as Rn}from"./chunk-VVIXDXVI.js";import{a as Tn,b as Re,e as ue,f as tt,h as nt,i as Me}from"./chunk-RGXYJBLP.js";import{a as kn,b as Sn,h as _n}from"./chunk-IIGIEWRB.js";import"./chunk-UFB7CFK7.js";import{a as Et}from"./chunk-PPY26YAS.js";import"./chunk-74OYS3EQ.js";import{a as ne,b as wn,c as jn}from"./chunk-DTON4BNA.js";import"./chunk-5VMO6JDC.js";import"./chunk-3VPKZZES.js";import"./chunk-55MUSWHY.js";import"./chunk-OIYEUQS3.js";import"./chunk-PJKO2XHO.js";import"./chunk-LAJ3KG4U.js";import{a as Ve,b as ft,g as ee}from"./chunk-2R6CW7ES.js";var _o={schedule(n,o){let e=setTimeout(n,o);return()=>clearTimeout(e)}};function Ro(n){return n.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`)}function Mo(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}var bt;function xo(n,o){if(!bt){let e=Element.prototype;bt=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE?bt.call(n,o):!1}function Po(n){let o={};return n.forEach(({propName:e,templateName:t,transform:i})=>{o[Ro(t)]=[e,i]}),o}function Fo(n,o){return o.get(gt).resolveComponentFactory(n).inputs}function Ao(n,o){let e=n.childNodes,t=o.map(()=>[]),i=-1;o.some((s,l)=>s==="*"?(i=l,!0):!1);for(let s=0,l=e.length;s<l;++s){let d=e[s],u=zo(d,o,i);u!==-1&&t[u].push(d)}return t}function zo(n,o,e){let t=e;return Mo(n)&&o.some((i,s)=>i!=="*"&&xo(n,i)?(t=s,!0):!1),t}var Oo=10,Dt=class{componentFactory;inputMap=new Map;constructor(o,e){this.componentFactory=e.get(gt).resolveComponentFactory(o);for(let t of this.componentFactory.inputs)this.inputMap.set(t.propName,t.templateName)}create(o){return new Tt(this.componentFactory,o,this.inputMap)}},Tt=class{componentFactory;injector;inputMap;eventEmitters=new Ut(1);events=this.eventEmitters.pipe(qt(o=>Xt(...o)));componentRef=null;scheduledDestroyFn=null;initialInputValues=new Map;ngZone;elementZone;appRef;cdScheduler;constructor(o,e,t){this.componentFactory=o,this.injector=e,this.inputMap=t,this.ngZone=this.injector.get(Se),this.appRef=this.injector.get(nn),this.cdScheduler=e.get(Qt),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(o){this.runInZone(()=>{if(this.scheduledDestroyFn!==null){this.scheduledDestroyFn(),this.scheduledDestroyFn=null;return}this.componentRef===null&&this.initializeComponent(o)})}disconnect(){this.runInZone(()=>{this.componentRef===null||this.scheduledDestroyFn!==null||(this.scheduledDestroyFn=_o.schedule(()=>{this.componentRef!==null&&(this.componentRef.destroy(),this.componentRef=null)},Oo))})}getInputValue(o){return this.runInZone(()=>this.componentRef===null?this.initialInputValues.get(o):this.componentRef.instance[o])}setInputValue(o,e){if(this.componentRef===null){this.initialInputValues.set(o,e);return}this.runInZone(()=>{this.componentRef.setInput(this.inputMap.get(o)??o,e),Kt(this.componentRef.hostView)&&(Jt(this.componentRef.changeDetectorRef),this.cdScheduler.notify(6))})}initializeComponent(o){let e=Ge.create({providers:[],parent:this.injector}),t=Ao(o,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,t,o),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.appRef.attachView(this.componentRef.hostView),this.componentRef.hostView.detectChanges()}initializeInputs(){for(let[o,e]of this.initialInputValues)this.setInputValue(o,e);this.initialInputValues.clear()}initializeOutputs(o){let e=this.componentFactory.outputs.map(({propName:t,templateName:i})=>{let s=o.instance[t];return new Gt(l=>{let d=s.subscribe(u=>l.next({name:i,value:u}));return()=>d.unsubscribe()})});this.eventEmitters.next(e)}runInZone(o){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(o):o()}},wt=class extends HTMLElement{ngElementEventsSubscription=null};function Wn(n,o){let e=Fo(n,o.injector),t=o.strategyFactory||new Dt(n,o.injector),i=Po(e);class s extends wt{injector;static observedAttributes=Object.keys(i);get ngElementStrategy(){if(!this._ngElementStrategy){let d=this._ngElementStrategy=t.create(this.injector||o.injector);e.forEach(({propName:u,transform:v})=>{if(!this.hasOwnProperty(u))return;let h=this[u];delete this[u],d.setInputValue(u,h,v)})}return this._ngElementStrategy}_ngElementStrategy;constructor(d){super(),this.injector=d}attributeChangedCallback(d,u,v,h){let[E,j]=i[d];this.ngElementStrategy.setInputValue(E,v,j)}connectedCallback(){let d=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),d=!0),this.ngElementStrategy.connect(this),d||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(d=>{let u=new CustomEvent(d.name,{detail:d.value});this.dispatchEvent(u)})}}return e.forEach(({propName:l,transform:d})=>{Object.defineProperty(s.prototype,l,{get(){return this.ngElementStrategy.getInputValue(l)},set(u){this.ngElementStrategy.setInputValue(l,u,d)},configurable:!0,enumerable:!0})}),s}var Gn=(n,o,e,t,i,s)=>ee(null,null,function*(){var l;if(n)return n.attachViewToDom(o,e,i,t);if(!s&&typeof e!="string"&&!(e instanceof HTMLElement))throw new Error("framework delegate is missing");let d=typeof e=="string"?(l=o.ownerDocument)===null||l===void 0?void 0:l.createElement(e):e;return t&&t.forEach(u=>d.classList.add(u)),i&&Object.assign(d,i),o.appendChild(d),yield new Promise(u=>kn(d,u)),d}),Un=(n,o)=>{if(o){if(n){let e=o.parentElement;return n.removeViewFromDom(e,o)}o.remove()}return Promise.resolve()};var Xn=(()=>{class n{http;prefix;suffix;constructor(e,t="/assets/i18n/",i=".json"){this.http=e,this.prefix=t,this.suffix=i}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(t){return new(t||n)(ce(Je),ce(String),ce(String))};static \u0275prov=he({token:n,factory:n.\u0275fac})}return n})();var qn=()=>{let n;return{lock:()=>ee(null,null,function*(){let e=n,t;return n=new Promise(i=>t=i),e!==void 0&&(yield e),t})}};var No=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",Lo=Me(class extends Re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=nt(this,"ionNavWillLoad",7),this.ionNavWillChange=nt(this,"ionNavWillChange",3),this.ionNavDidChange=nt(this,"ionNavDidChange",3),this.lockController=qn(),this.gestureOrAnimationInProgress=!1,this.mode=Te(this),this.animated=!0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}connectedCallback(){return ee(this,null,function*(){let o=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(yield import("./chunk-32MWBK2Y.js")).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>o(),e=>{var t;return(t=this.ani)===null||t===void 0?void 0:t.progressStep(e)},(e,t,i)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(e)},{oneTimeCallback:!0});let s=e?-.001:.001;e?s+=yt([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=yt([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.ani.progressEnd(e?1:0,s,i)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()})}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}commit(o,e,t){return ee(this,null,function*(){let i=yield this.lockController.lock(),s=!1;try{s=yield this.transition(o,e,t)}catch(l){jn("[ion-router-outlet] - Exception in commit:",l)}return i(),s})}setRouteId(o,e,t,i){return ee(this,null,function*(){return{changed:yield this.setRoot(o,e,{duration:t==="root"?0:void 0,direction:t==="back"?"back":"forward",animationBuilder:i}),element:this.activeEl}})}getRouteId(){return ee(this,null,function*(){let o=this.activeEl;return o?{id:o.tagName,element:o,params:this.activeParams}:void 0})}setRoot(o,e,t){return ee(this,null,function*(){if(this.activeComponent===o&&_n(e,this.activeParams))return!1;let i=this.activeEl,s=yield Gn(this.delegate,this.el,o,["ion-page","ion-page-invisible"],e);return this.activeComponent=o,this.activeEl=s,this.activeParams=e,yield this.commit(s,i,t),yield Un(this.delegate,i),!0})}transition(i,s){return ee(this,arguments,function*(o,e,t={}){if(e===o)return!1;this.ionNavWillChange.emit();let{el:l,mode:d}=this,u=this.animated&&ne.getBoolean("animated",!0),v=t.animationBuilder||this.animation||ne.get("navAnimation");return yield Rn(Object.assign(Object.assign({mode:d,animated:u,enteringEl:o,leavingEl:e,baseEl:l,deepWait:Sn(l),progressCallback:t.progressAnimation?h=>{h!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,h.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),h.progressEnd(0,0,0)):this.ani=h}:void 0},t),{animationBuilder:v})),this.ionNavDidChange.emit(),!0})}render(){return ue("slot",{key:"84b50f1155b0d780dff802ee13223287259fd525"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return No}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16,"swipe-handler"],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function Bo(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(o=>{switch(o){case"ion-router-outlet":customElements.get(o)||customElements.define(o,Lo);break}})}var Yn=Bo;var Zo="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",Ho=Me(class extends Re{constructor(){super(),this.__registerHost()}componentDidLoad(){Tn.isBrowser&&Vo(()=>ee(this,null,function*(){let o=De(window,"hybrid");if(ne.getBoolean("_testing")||import("./chunk-63YGZWHE.js").then(i=>i.startTapClick(ne)),ne.getBoolean("statusTap",o)&&import("./chunk-ZC6FB6N5.js").then(i=>i.startStatusTap()),ne.getBoolean("inputShims",$o())){let i=De(window,"ios")?"ios":"android";import("./chunk-CGJ7UJZE.js").then(s=>s.startInputShims(ne,i))}let e=yield import("./chunk-JOSPSIIB.js"),t=o||Et();ne.getBoolean("hardwareBackButton",t)?e.startHardwareBackButton():(Et()&&wn("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),e.blockHardwareBackButton()),typeof window<"u"&&import("./chunk-WOAKGYEI.js").then(i=>i.startKeyboardAssist(window)),import("./chunk-EMJLCICP.js").then(i=>this.focusVisible=i.startFocusVisible())}))}setFocus(o){return ee(this,null,function*(){this.focusVisible&&this.focusVisible.setFocus(o)})}render(){let o=Te(this);return ue(tt,{key:"03aa892f986330078d112b1e8b010df98fa7e39e",class:{[o]:!0,"ion-page":!0,"force-statusbar-padding":ne.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return Zo}},[0,"ion-app",{setFocus:[64]}]),$o=()=>!!(De(window,"ios")&&De(window,"mobile")||De(window,"android")&&De(window,"mobileweb")),Vo=n=>{"requestIdleCallback"in window?window.requestIdleCallback(n):setTimeout(n,32)};function Wo(){if(typeof customElements>"u")return;["ion-app"].forEach(o=>{switch(o){case"ion-app":customElements.get(o)||customElements.define(o,Ho);break}})}var Qn=Wo;var Go={bubbles:{dur:1e3,circles:9,fn:(n,o,e)=>{let t=`${n*o/e-n}ms`,i=2*Math.PI*o/e;return{r:5,style:{top:`${32*Math.sin(i)}%`,left:`${32*Math.cos(i)}%`,"animation-delay":t}}}},circles:{dur:1e3,circles:8,fn:(n,o,e)=>{let t=o/e,i=`${n*t-n}ms`,s=2*Math.PI*t;return{r:5,style:{top:`${32*Math.sin(s)}%`,left:`${32*Math.cos(s)}%`,"animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(n,o)=>{let e=-(110*o)+"ms";return{r:6,style:{left:`${32-32*o}%`,"animation-delay":e}}}},lines:{dur:1e3,lines:8,fn:(n,o,e)=>{let t=`rotate(${360/e*o+(o<e/2?180:-180)}deg)`,i=`${n*o/e-n}ms`;return{y1:14,y2:26,style:{transform:t,"animation-delay":i}}}},"lines-small":{dur:1e3,lines:8,fn:(n,o,e)=>{let t=`rotate(${360/e*o+(o<e/2?180:-180)}deg)`,i=`${n*o/e-n}ms`;return{y1:12,y2:20,style:{transform:t,"animation-delay":i}}}},"lines-sharp":{dur:1e3,lines:12,fn:(n,o,e)=>{let t=`rotate(${30*o+(o<6?180:-180)}deg)`,i=`${n*o/e-n}ms`;return{y1:17,y2:29,style:{transform:t,"animation-delay":i}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(n,o,e)=>{let t=`rotate(${30*o+(o<6?180:-180)}deg)`,i=`${n*o/e-n}ms`;return{y1:12,y2:20,style:{transform:t,"animation-delay":i}}}}},Kn=Go,Uo=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",Jn=Me(class extends Re{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.paused=!1}getName(){let o=this.name||ne.get("spinner"),e=Te(this);return o||(e==="ios"?"lines":"circular")}render(){var o;let e=this,t=Te(e),i=e.getName(),s=(o=Kn[i])!==null&&o!==void 0?o:Kn.lines,l=typeof e.duration=="number"&&e.duration>10?e.duration:s.dur,d=[];if(s.circles!==void 0)for(let u=0;u<s.circles;u++)d.push(Xo(s,l,u,s.circles));else if(s.lines!==void 0)for(let u=0;u<s.lines;u++)d.push(qo(s,l,u,s.lines));return ue(tt,{key:"a33d6421fcc885995fbc7a348516525f68ca496c",class:Mn(e.color,{[t]:!0,[`spinner-${i}`]:!0,"spinner-paused":e.paused||ne.getBoolean("_testing")}),role:"progressbar",style:s.elmDuration?{animationDuration:l+"ms"}:{}},d)}static get style(){return Uo}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),Xo=(n,o,e,t)=>{let i=n.fn(o,e,t);return i.style["animation-duration"]=o+"ms",ue("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},ue("circle",{transform:i.transform||"translate(32,32)",cx:i.cx,cy:i.cy,r:i.r,style:n.elmDuration?{animationDuration:o+"ms"}:{}}))},qo=(n,o,e,t)=>{let i=n.fn(o,e,t);return i.style["animation-duration"]=o+"ms",ue("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},ue("line",{transform:"translate(32,32)",y1:i.y1,y2:i.y2}))};function eo(){if(typeof customElements>"u")return;["ion-spinner"].forEach(o=>{switch(o){case"ion-spinner":customElements.get(o)||customElements.define(o,Jn);break}})}var to=eo;var Jo=["outletContent"],St=["*"];var no=(()=>{let n=class st extends Fn{parentOutlet;outletContent;constructor(e,t,i,s,l,d,u,v){super(e,t,i,s,l,d,u,v),this.parentOutlet=v}static \u0275fac=function(t){return new(t||st)(pt("name"),pt("tabs"),G(mn),G(Ue),G(et),G(Se),G(yn),G(st,12))};static \u0275cmp=_e({type:st,selectors:[["ion-router-outlet"]],viewQuery:function(t,i){if(t&1&&an(Jo,7,en),t&2){let s;ln(s=dn())&&(i.outletContent=s.first)}},features:[tn],ngContentSelectors:St,decls:3,vars:0,consts:[["outletContent",""]],template:function(t,i){t&1&&(Ye(),sn(0,null,0),Qe(2),cn())},encapsulation:2})};return n=We([Pn({defineCustomElementFn:Yn})],n),n})();var ei=(n,o)=>{let e=n.prototype;o.forEach(t=>{Object.defineProperty(e,t,{get(){return this.el[t]},set(i){this.z.runOutsideAngular(()=>this.el[t]=i)},configurable:!0})})},ti=(n,o)=>{let e=n.prototype;o.forEach(t=>{e[t]=function(){let i=arguments;return this.z.runOutsideAngular(()=>this.el[t].apply(this.el,i))}})};function oo(n){return function(e){let{defineCustomElementFn:t,inputs:i,methods:s}=n;return t!==void 0&&t(),i&&ei(e,i),s&&ti(e,s),e}}var io=(()=>{let n=class jt{z;el;constructor(e,t,i){this.z=i,e.detach(),this.el=t.nativeElement}static \u0275fac=function(t){return new(t||jt)(G(Oe),G(Ue),G(Se))};static \u0275cmp=_e({type:jt,selectors:[["ion-app"]],ngContentSelectors:St,decls:1,vars:0,template:function(t,i){t&1&&(Ye(),Qe(0))},encapsulation:2,changeDetection:0})};return n=We([oo({defineCustomElementFn:Qn,methods:["setFocus"]})],n),n})();var ro=(()=>{let n=class kt{z;el;constructor(e,t,i){this.z=i,e.detach(),this.el=t.nativeElement}static \u0275fac=function(t){return new(t||kt)(G(Oe),G(Ue),G(Se))};static \u0275cmp=_e({type:kt,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:St,decls:1,vars:0,template:function(t,i){t&1&&(Ye(),Qe(0))},encapsulation:2,changeDetection:0})};return n=We([oo({defineCustomElementFn:to,inputs:["color","duration","name","paused"]})],n),n})();function oi(n,o){n&1&&(Xe(0,"div",1),It(1,"ion-spinner",2),qe())}var so=(()=>{class n{constructor(e,t,i,s,l,d,u,v,h,E){this.platform=e,this.loaderService=t,this.translateService=i,this.platformDetectionService=s,this.router=l,this.cdr=d,this.espoCrmAuth=u,this.countryService=v,this.disasterTypeService=h,this.adminLevelService=E,this.countryCode="PHL",this.disasterType="typhoon",this.defaultAdminLevel=1,this.apiBaseUrl="https://ibf-api.rodekruis.nl",this.authToken="",this.userId="",this.embedPlatform="standalone",this.theme="auto",this.language="en",this.features=[],this.dashboardReady=new ke,this.alertTriggered=new ke,this.dataUpdated=new ke,this.userAction=new ke,this.error=new ke,this.isEmbedded=!1,this.loading=!0,this.defaultLanguage="en",this.countryInitialized=!1,this.disasterTypeInitialized=!1,this.adminLevelInitialized=!1,console.log("\u{1F504} AppComponent: Constructor initialized")}ngOnInit(){this.loaderSubscription=this.loaderService.getLoaderSubscription().subscribe(i=>{this.loading=i,this.cdr.markForCheck()}),this.authToken&&(console.log("\u{1F510} Setting IBF token from input property"),this.espoCrmAuth.setToken(this.authToken));let e=this.isRunningAsWebComponent(),t=this.platformDetectionService.getPlatformMode();this.embedPlatform=this.embedPlatform!=="standalone"?this.embedPlatform:t,e&&this.embedPlatform==="standalone"&&(this.embedPlatform="generic",console.log("\u{1F527} Force setting platform to generic for web component")),this.espoCrmAuth.isEmbeddedInEspoCrm()&&(this.embedPlatform="espocrm",console.log("\u{1F527} EspoCRM embedded mode detected, setting platform to espocrm")),this.isEmbedded=this.embedPlatform!=="standalone",this.setCSSMode(e),console.log(`\u{1F680} IBF Dashboard initializing in ${this.embedPlatform} mode`),console.log(`\u{1F50D} Is embedded: ${this.isEmbedded}`),console.log(`\u{1F310} Platform: ${this.embedPlatform}`),console.log(`\u{1F3AF} Country: ${this.countryCode}`),console.log(`\u{1F527} Is web component: ${e}`),console.log(`\u{1F510} EspoCRM auth available: ${this.espoCrmAuth.isAuthenticated()}`),this.setupEspoCrmAuthentication(),this.platformDetectionService.logPlatformInfo(),console.log("\u{1F9ED} Current router URL:",window.location.href),console.log("\u{1F9ED} Router state at init"),this.isEmbedded?(console.log("\u{1F527} Configuring for embedded mode..."),this.configureForEmbedding(),console.log("\u{1F9ED} Embedded mode - letting LocationStrategy handle navigation")):this.configureForStandaloneMode(),this.initializeApp(),setTimeout(()=>{this.loading&&(console.warn("\u26A0\uFE0F AppComponent: Loading state still active after 3 seconds - forcing to READY"),this.loading=!1,this.cdr.markForCheck(),this.cdr.detectChanges())},3e3),setTimeout(()=>{this.loading&&(console.error("\u{1F6A8} AppComponent: CRITICAL - Loading state stuck after 5 seconds - emergency override"),this.loading=!1,this.cdr.markForCheck(),this.cdr.detectChanges())},5e3),setTimeout(()=>{this.dashboardReady.emit(!0),console.log("\u2705 IBF Dashboard ready")},1e3)}ngOnChanges(e){if(!e||typeof e!="object"){console.warn("\u26A0\uFE0F ngOnChanges called with invalid changes object:",e);return}try{e.language&&this.language&&(this.translateService.setDefaultLang(this.language),this.translateService.use(this.language),console.log("\u{1F310} Language changed to:",this.language)),e.authToken&&this.authToken&&(console.log("\u{1F510} Auth token changed via input property"),this.espoCrmAuth.setToken(this.authToken)),e.embedPlatform&&this.embedPlatform&&(console.log("\u{1F310} Platform changed to:",this.embedPlatform),this.isEmbedded=this.embedPlatform!=="standalone"),(e.embedPlatform||e.countryCode||e.disasterType)&&(console.log("\u{1F504} App configuration changed, updating..."),this.setCSSMode(this.isRunningAsWebComponent())),this.cdr.markForCheck()}catch(t){console.error("\u{1F6A8} Error in ngOnChanges:",t)}}initializeApp(){let e=this.language||this.defaultLanguage;this.translateService.setDefaultLang(e),this.translateService.use(e),this.platform.ready()}configureForStandaloneMode(){console.log("\u{1F5A5}\uFE0F Configuring for standalone Azure web app mode")}configureForEmbedding(){switch(console.log(`\u{1F517} Configuring for embedded mode in ${this.embedPlatform}`),this.embedPlatform){case"espocrm":this.configureForEspoCRM();break;case"dhis2":this.configureForDHIS2();break;case"generic":this.configureForGeneric();break}this.hideEmbeddedElements()}configureForEspoCRM(){console.log("\u{1F3E2} Configuring for EspoCRM integration"),this.authToken&&this.setupExternalAuth(),this.apiBaseUrl&&this.updateApiConfiguration(),this.setupEspoCRMRouting()}setupEspoCRMRouting(){console.log("\u{1F9ED} Setting up EspoCRM-compatible routing with EmbeddedLocationStrategy"),setTimeout(()=>{this.router.navigate([""]).then(e=>{e?(console.log("\u2705 Successfully navigated to root (empty) path via EmbeddedLocationStrategy"),console.log("\u{1F517} URL should be: https://ibf-pivot-crm-dev.510.global/#IBFDashboard")):console.warn("\u26A0\uFE0F Navigation to empty path failed")}).catch(e=>{console.error("\u274C Error navigating to empty path:",e)})},100)}configureForDHIS2(){console.log("\u{1F3E5} Configuring for DHIS2 integration")}configureForGeneric(){console.log("\u{1F310} Configuring for generic embedding")}hideEmbeddedElements(){this.authToken&&document.body.classList.add("ibf-embedded-mode")}setupExternalAuth(){console.log("\u{1F510} Setting up external authentication")}updateApiConfiguration(){console.log("\u{1F527} Updating API configuration for",this.apiBaseUrl)}triggerAlert(e){this.alertTriggered.emit(e)}notifyDataUpdate(e){this.dataUpdated.emit(e)}logUserAction(e,t){this.userAction.emit({action:e,context:t,timestamp:new Date})}isRunningAsWebComponent(){try{let e=document.querySelector("ibf-dashboard"),t=!!e&&e.tagName.toLowerCase()==="ibf-dashboard",i="customElements"in window,s=i&&customElements.get("ibf-dashboard");return console.log("\u{1F50D} Web component detection:",{hostElement:!!e,isCustomElement:t,hasCustomElementAPI:i,isDefinedAsCustomElement:s}),t||!!s}catch(e){return console.debug("Web component detection error:",e),!1}}setCSSMode(e){if(e||this.isEmbedded){document.documentElement.setAttribute("data-ibf-mode","embedded"),document.documentElement.style.setProperty("--ibf-mode","embedded");let t=document.querySelector("ibf-dashboard");if(t){let i=t.getAttribute("height")||"600px";document.documentElement.style.setProperty("--ibf-app-height",i)}else document.documentElement.style.setProperty("--ibf-app-height","600px");console.log("\u{1F3AF} IBF Dashboard CSS mode set to EMBEDDED")}else document.documentElement.setAttribute("data-ibf-mode","standalone"),document.documentElement.style.setProperty("--ibf-mode","standalone"),document.documentElement.style.setProperty("--ibf-app-height","100vh"),console.log("\u{1F3AF} IBF Dashboard CSS mode set to STANDALONE")}reportError(e){this.error.emit(e)}setDisasterTypeFromCountry(e){console.log(`\u{1F32A}\uFE0F Setting disaster type: ${e}`);let t=!1,i=this.countryService.getCountrySubscription().subscribe(s=>{if(s?.disasterTypes&&s.disasterTypes.length>0){let l=s.disasterTypes.find(d=>d.disasterType===e);l?(console.log(`\u2705 Found disaster type ${e} in country data, setting it`),this.disasterTypeService.setDisasterType(l),t=!0,i.unsubscribe()):(console.warn(`\u26A0\uFE0F Disaster type ${e} not found in country ${s.countryCodeISO3} available types:`,s.disasterTypes.map(d=>d.disasterType)),console.log(`\u{1F504} Setting fallback disaster type: ${s.disasterTypes[0].disasterType}`),this.disasterTypeService.setDisasterType(s.disasterTypes[0]),t=!0,i.unsubscribe())}else s&&console.log(`\u23F3 Country ${s.countryCodeISO3} loaded but disaster types not yet available, waiting...`)});setTimeout(()=>{t?console.log(`\u2705 Disaster type ${e} was set successfully, timeout cleared`):(i.unsubscribe(),console.warn(`\u26A0\uFE0F Timeout waiting for disaster type ${e} to be set - this may be normal for embedded mode`))},15e3)}setupEspoCrmAuthentication(){this.embedPlatform==="espocrm"&&(console.log("\u{1F510} Setting up EspoCRM backend authentication..."),this.espoCrmAuth.isAuthenticated$.subscribe(e=>{console.log("\u{1F510} IBF backend authentication state changed:",e),e&&this.espoCrmAuth.getToken()&&(this.embedPlatform==="espocrm"?this.router.url==="/login"?(console.log("\u{1F510} IBF backend authenticated, navigating to root (EspoCRM embedded mode)"),this.router.navigate(["/"]).catch(t=>{console.error("\u{1F510} Navigation to root failed:",t)})):console.log("\u{1F510} IBF backend authenticated, staying on current route for EspoCRM compatibility"):(this.router.url==="/login"||this.router.url==="/")&&(console.log("\u{1F510} IBF backend authenticated, navigating to dashboard (standalone mode)"),this.router.navigate(["/"]).catch(t=>{console.error("\u{1F510} Navigation to dashboard failed:",t)})))}),this.espoCrmAuth.isAuthenticated()&&(console.log("\u{1F510} Already authenticated with IBF backend, skipping login"),this.embedPlatform==="espocrm"?this.router.url==="/login"?(console.log("\u{1F510} Already authenticated, navigating to root (EspoCRM embedded mode)"),this.router.navigate(["/"]).catch(e=>{console.error("\u{1F510} Navigation to root failed:",e)})):console.log("\u{1F510} Already authenticated, staying on current route for EspoCRM compatibility"):(this.router.url==="/login"||this.router.url==="/")&&(console.log("\u{1F510} Already authenticated, navigating to dashboard (standalone mode)"),this.router.navigate(["/dashboard"]).catch(e=>{console.error("\u{1F510} Navigation to dashboard failed:",e)}))))}ngOnDestroy(){this.loaderSubscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)(G(xn),G(it),G(Nn),G(Ln),G(et),G(Oe),G(Bn),G(Hn),G($n),G(Vn))}}static{this.\u0275cmp=_e({type:n,selectors:[["app-root"]],inputs:{countryCode:"countryCode",disasterType:"disasterType",defaultAdminLevel:"defaultAdminLevel",apiBaseUrl:"apiBaseUrl",authToken:"authToken",userId:"userId",embedPlatform:"embedPlatform",theme:"theme",language:"language",features:"features"},outputs:{dashboardReady:"dashboardReady",alertTriggered:"alertTriggered",dataUpdated:"dataUpdated",userAction:"userAction",error:"error"},features:[Yt],decls:3,vars:3,consts:[["id","app","data-testid","app"],["data-testid","loader",1,"loader"],["color","light"]],template:function(t,i){t&1&&(Xe(0,"ion-app",0),It(1,"ion-router-outlet"),vt(2,oi,2,0,"div",1),qe()),t&2&&(on("embedded",i.isEmbedded),ht(2),rn(i.loading?2:-1))},dependencies:[io,ro,no,ot,fn],styles:[".loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:99999;height:100vh;width:100%;display:flex;justify-content:center;align-items:center;background:#000000bf}ion-spinner[_ngcontent-%COMP%]{width:128px;height:128px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.embedded[_nghost-%COMP%]{height:100%!important;min-height:600px}.embedded[_nghost-%COMP%]   ion-app[_ngcontent-%COMP%]{height:100%!important;position:relative!important}.embedded[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100%!important}.embedded[_nghost-%COMP%]   .page-structure[_ngcontent-%COMP%]{height:100%!important;min-height:600px!important}.embedded[_nghost-%COMP%]   .ibf-dashboard-left-column[_ngcontent-%COMP%], .embedded[_nghost-%COMP%]   .ibf-dashboard-right-column[_ngcontent-%COMP%]{min-height:500px!important}.embedded[_nghost-%COMP%]   .leaflet--map[_ngcontent-%COMP%]{height:400px!important;min-height:400px!important}.embedded[_nghost-%COMP%]   #ibf-dashboard-map[_ngcontent-%COMP%]{height:400px!important;min-height:400px!important}"],changeDetection:0})}}return n})();var co=(()=>{class n{constructor(e){this.authService=e}intercept(e,t){return t.handle(e).pipe(ze(i=>{this.handleResponse(i)},i=>{this.handleError(i)}))}handleResponse(e){if(e instanceof Ne){let t=e.url?.startsWith(`${rt.apiUrl}/country?countryCodesISO3=`)??!1,i=Array.isArray(e.body)&&e.body.length===0;t&&i&&this.authService.logout()}}handleError(e){e instanceof pn&&e.status===401&&this.authService.logout()}static{this.\u0275fac=function(t){return new(t||n)(ce(Zn))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ao=(()=>{class n extends Ke{constructor(e){super(),this._platformLocation=e,this._baseHref="",this._embeddedPrefix="#IBFDashboard/",console.log("\u{1F527} EmbeddedLocationStrategy initialized with prefix:",this._embeddedPrefix)}path(e){let t=this._platformLocation.hash;if(t.startsWith(this._embeddedPrefix)){let s=t.substring(this._embeddedPrefix.length)||"/";return console.log("\u{1F9ED} EmbeddedLocationStrategy.path() ->",s,"from hash:",t),s}return console.log("\u{1F9ED} EmbeddedLocationStrategy.path() -> / (fallback) from hash:",t),"/"}prepareExternalUrl(e){let t=e.startsWith("/")?e.substring(1):e,i=window.location.protocol,s=window.location.hostname,l=window.location.port?":"+window.location.port:"",d=`${i}//${s}${l}/`,u=this._embeddedPrefix+t,v=d+u;return console.log("\u{1F9ED} EmbeddedLocationStrategy.prepareExternalUrl():",{internal:e,cleanInternal:t,embeddedPath:u,fullExternalUrl:v,currentLocation:window.location.href}),u}pushState(e,t,i,s){let l=i.startsWith("/")?i.substring(1):i,d=this._embeddedPrefix+l;s&&(d+=(d.includes("?")?"&":"?")+s);let u=window.location.protocol,v=window.location.hostname,h=window.location.port?":"+window.location.port:"",E=window.location.search,j=`${u}//${v}${h}/${E}${d}`;console.log("\u{1F9ED} EmbeddedLocationStrategy.pushState():",{url:i,fullHash:d,rootUrl:j,currentLocation:window.location.href}),window.history.replaceState(e,t,j)}replaceState(e,t,i,s){let l=i.startsWith("/")?i.substring(1):i,d=this._embeddedPrefix+l;s&&(d+=(d.includes("?")?"&":"?")+s);let u=window.location.protocol,v=window.location.hostname,h=window.location.port?":"+window.location.port:"",E=window.location.search,j=`${u}//${v}${h}/${E}${d}`;console.log("\u{1F9ED} EmbeddedLocationStrategy.replaceState():",{url:i,fullHash:d,rootUrl:j,currentLocation:window.location.href}),window.history.replaceState(e,t,j)}forward(){console.log("\u{1F9ED} EmbeddedLocationStrategy.forward()"),this._platformLocation.forward()}back(){console.log("\u{1F9ED} EmbeddedLocationStrategy.back()"),this._platformLocation.back()}getBaseHref(){return this._baseHref}getState(){return this._platformLocation.getState()}onPopState(e){this._platformLocation.onHashChange(t=>{let i=this._platformLocation.hash;i.startsWith(this._embeddedPrefix)?(console.log("\u{1F9ED} EmbeddedLocationStrategy.onPopState() - hash change in our space:",i),e(t)):console.log("\u{1F9ED} EmbeddedLocationStrategy.onPopState() - hash change outside our space:",i)})}static{this.\u0275fac=function(t){return new(t||n)(ce(un))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac})}}return n})();var lo=(()=>{class n{constructor(e){this.loaderService=e,this.requestsToSkip=["waterpoints"]}intercept(e,t){let i=e.url;return this.requestsToSkip.some(l=>i.includes(l))?t.handle(e).pipe(ze(l=>{l instanceof Ne&&this.onEnd(i)},l=>{console.log("error: ",l),this.onEnd(i)})):(this.showLoader(i),t.handle(e).pipe(ze(l=>{l instanceof Ne&&this.onEnd(i)},l=>{console.log("error: ",l),this.onEnd(i)})))}onEnd(e){this.hideLoader(e)}showLoader(e){this.loaderService.setLoader(e,!1)}hideLoader(e){this.loaderService.setLoader(e,!0)}static{this.\u0275fac=function(t){return new(t||n)(ce(it))}}static{this.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var me=globalThis;function oe(n){return(me.__Zone_symbol_prefix||"__zone_symbol__")+n}function ii(){let n=me.performance;function o(x){n&&n.mark&&n.mark(x)}function e(x,I){n&&n.measure&&n.measure(x,I)}o("Zone");let t=(()=>{class x{static{this.__symbol__=oe}static assertZonePatched(){if(me.Promise!==M.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let r=x.current;for(;r.parent;)r=r.parent;return r}static get current(){return w.zone}static get currentTask(){return R}static __load_patch(r,c,b=!1){if(M.hasOwnProperty(r)){let k=me[oe("forceDuplicateZoneCheck")]===!0;if(!b&&k)throw Error("Already loaded patch: "+r)}else if(!me["__Zone_disable_"+r]){let k="Zone:"+r;o(k),M[r]=c(me,x,S),e(k,k)}}get parent(){return this._parent}get name(){return this._name}constructor(r,c){this._parent=r,this._name=c?c.name||"unnamed":"<root>",this._properties=c&&c.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,c)}get(r){let c=this.getZoneWith(r);if(c)return c._properties[r]}getZoneWith(r){let c=this;for(;c;){if(c._properties.hasOwnProperty(r))return c;c=c._parent}return null}fork(r){if(!r)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,r)}wrap(r,c){if(typeof r!="function")throw new Error("Expecting function got: "+r);let b=this._zoneDelegate.intercept(this,r,c),k=this;return function(){return k.runGuarded(b,this,arguments,c)}}run(r,c,b,k){w={parent:w,zone:this};try{return this._zoneDelegate.invoke(this,r,c,b,k)}finally{w=w.parent}}runGuarded(r,c=null,b,k){w={parent:w,zone:this};try{try{return this._zoneDelegate.invoke(this,r,c,b,k)}catch(X){if(this._zoneDelegate.handleError(this,X))throw X}}finally{w=w.parent}}runTask(r,c,b){if(r.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(r.zone||J).name+"; Execution: "+this.name+")");let k=r,{type:X,data:{isPeriodic:z=!1,isRefreshable:ye=!1}={}}=r;if(r.state===q&&(X===W||X===C))return;let fe=r.state!=O;fe&&k._transitionTo(O,g);let pe=R;R=k,w={parent:w,zone:this};try{X==C&&r.data&&!z&&!ye&&(r.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,k,c,b)}catch(re){if(this._zoneDelegate.handleError(this,re))throw re}}finally{let re=r.state;if(re!==q&&re!==Y)if(X==W||z||ye&&re===D)fe&&k._transitionTo(g,O,D);else{let p=k._zoneDelegates;this._updateTaskCount(k,-1),fe&&k._transitionTo(q,O,q),ye&&(k._zoneDelegates=p)}w=w.parent,R=pe}}scheduleTask(r){if(r.zone&&r.zone!==this){let b=this;for(;b;){if(b===r.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${r.zone.name}`);b=b.parent}}r._transitionTo(D,q);let c=[];r._zoneDelegates=c,r._zone=this;try{r=this._zoneDelegate.scheduleTask(this,r)}catch(b){throw r._transitionTo(Y,D,q),this._zoneDelegate.handleError(this,b),b}return r._zoneDelegates===c&&this._updateTaskCount(r,1),r.state==D&&r._transitionTo(g,D),r}scheduleMicroTask(r,c,b,k){return this.scheduleTask(new l(Z,r,c,b,k,void 0))}scheduleMacroTask(r,c,b,k,X){return this.scheduleTask(new l(C,r,c,b,k,X))}scheduleEventTask(r,c,b,k,X){return this.scheduleTask(new l(W,r,c,b,k,X))}cancelTask(r){if(r.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(r.zone||J).name+"; Execution: "+this.name+")");if(!(r.state!==g&&r.state!==O)){r._transitionTo(B,g,O);try{this._zoneDelegate.cancelTask(this,r)}catch(c){throw r._transitionTo(Y,B),this._zoneDelegate.handleError(this,c),c}return this._updateTaskCount(r,-1),r._transitionTo(q,B),r.runCount=-1,r}}_updateTaskCount(r,c){let b=r._zoneDelegates;c==-1&&(r._zoneDelegates=null);for(let k=0;k<b.length;k++)b[k]._updateTaskCount(r.type,c)}}return x})(),i={name:"",onHasTask:(x,I,r,c)=>x.hasTask(r,c),onScheduleTask:(x,I,r,c)=>x.scheduleTask(r,c),onInvokeTask:(x,I,r,c,b,k)=>x.invokeTask(r,c,b,k),onCancelTask:(x,I,r,c)=>x.cancelTask(r,c)};class s{get zone(){return this._zone}constructor(I,r,c){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=I,this._parentDelegate=r,this._forkZS=c&&(c&&c.onFork?c:r._forkZS),this._forkDlgt=c&&(c.onFork?r:r._forkDlgt),this._forkCurrZone=c&&(c.onFork?this._zone:r._forkCurrZone),this._interceptZS=c&&(c.onIntercept?c:r._interceptZS),this._interceptDlgt=c&&(c.onIntercept?r:r._interceptDlgt),this._interceptCurrZone=c&&(c.onIntercept?this._zone:r._interceptCurrZone),this._invokeZS=c&&(c.onInvoke?c:r._invokeZS),this._invokeDlgt=c&&(c.onInvoke?r:r._invokeDlgt),this._invokeCurrZone=c&&(c.onInvoke?this._zone:r._invokeCurrZone),this._handleErrorZS=c&&(c.onHandleError?c:r._handleErrorZS),this._handleErrorDlgt=c&&(c.onHandleError?r:r._handleErrorDlgt),this._handleErrorCurrZone=c&&(c.onHandleError?this._zone:r._handleErrorCurrZone),this._scheduleTaskZS=c&&(c.onScheduleTask?c:r._scheduleTaskZS),this._scheduleTaskDlgt=c&&(c.onScheduleTask?r:r._scheduleTaskDlgt),this._scheduleTaskCurrZone=c&&(c.onScheduleTask?this._zone:r._scheduleTaskCurrZone),this._invokeTaskZS=c&&(c.onInvokeTask?c:r._invokeTaskZS),this._invokeTaskDlgt=c&&(c.onInvokeTask?r:r._invokeTaskDlgt),this._invokeTaskCurrZone=c&&(c.onInvokeTask?this._zone:r._invokeTaskCurrZone),this._cancelTaskZS=c&&(c.onCancelTask?c:r._cancelTaskZS),this._cancelTaskDlgt=c&&(c.onCancelTask?r:r._cancelTaskDlgt),this._cancelTaskCurrZone=c&&(c.onCancelTask?this._zone:r._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let b=c&&c.onHasTask,k=r&&r._hasTaskZS;(b||k)&&(this._hasTaskZS=b?c:i,this._hasTaskDlgt=r,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,c.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=r,this._scheduleTaskCurrZone=this._zone),c.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=r,this._invokeTaskCurrZone=this._zone),c.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=r,this._cancelTaskCurrZone=this._zone))}fork(I,r){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,I,r):new t(I,r)}intercept(I,r,c){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,I,r,c):r}invoke(I,r,c,b,k){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,I,r,c,b,k):r.apply(c,b)}handleError(I,r){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,I,r):!0}scheduleTask(I,r){let c=r;if(this._scheduleTaskZS)this._hasTaskZS&&c._zoneDelegates.push(this._hasTaskDlgtOwner),c=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,I,r),c||(c=r);else if(r.scheduleFn)r.scheduleFn(r);else if(r.type==Z)V(r);else throw new Error("Task is missing scheduleFn.");return c}invokeTask(I,r,c,b){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,I,r,c,b):r.callback.apply(c,b)}cancelTask(I,r){let c;if(this._cancelTaskZS)c=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,I,r);else{if(!r.cancelFn)throw Error("Task is not cancelable");c=r.cancelFn(r)}return c}hasTask(I,r){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,I,r)}catch(c){this.handleError(I,c)}}_updateTaskCount(I,r){let c=this._taskCounts,b=c[I],k=c[I]=b+r;if(k<0)throw new Error("More tasks executed then were scheduled.");if(b==0||k==0){let X={microTask:c.microTask>0,macroTask:c.macroTask>0,eventTask:c.eventTask>0,change:I};this.hasTask(this._zone,X)}}}class l{constructor(I,r,c,b,k,X){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=I,this.source=r,this.data=b,this.scheduleFn=k,this.cancelFn=X,!c)throw new Error("callback is not defined");this.callback=c;let z=this;I===W&&b&&b.useG?this.invoke=l.invokeTask:this.invoke=function(){return l.invokeTask.call(me,z,this,arguments)}}static invokeTask(I,r,c){I||(I=this),te++;try{return I.runCount++,I.zone.runTask(I,r,c)}finally{te==1&&K(),te--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(q,D)}_transitionTo(I,r,c){if(this._state===r||this._state===c)this._state=I,I==q&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${I}', expecting state '${r}'${c?" or '"+c+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let d=oe("setTimeout"),u=oe("Promise"),v=oe("then"),h=[],E=!1,j;function L(x){if(j||me[u]&&(j=me[u].resolve(0)),j){let I=j[v];I||(I=j.then),I.call(j,x)}else me[d](x,0)}function V(x){te===0&&h.length===0&&L(K),x&&h.push(x)}function K(){if(!E){for(E=!0;h.length;){let x=h;h=[];for(let I=0;I<x.length;I++){let r=x[I];try{r.zone.runTask(r,null,null)}catch(c){S.onUnhandledError(c)}}}S.microtaskDrainDone(),E=!1}}let J={name:"NO ZONE"},q="notScheduled",D="scheduling",g="scheduled",O="running",B="canceling",Y="unknown",Z="microTask",C="macroTask",W="eventTask",M={},S={symbol:oe,currentZoneFrame:()=>w,onUnhandledError:U,microtaskDrainDone:U,scheduleMicroTask:V,showUncaughtError:()=>!t[oe("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:U,patchMethod:()=>U,bindArguments:()=>[],patchThen:()=>U,patchMacroTask:()=>U,patchEventPrototype:()=>U,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>U,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>U,wrapWithCurrentZone:()=>U,filterProperties:()=>[],attachOriginToPatched:()=>U,_redefineProperty:()=>U,patchCallbacks:()=>U,nativeScheduleMicroTask:L},w={parent:null,zone:new t(null,null)},R=null,te=0;function U(){}return e("Zone","Zone"),t}function ri(){let n=globalThis,o=n[oe("forceDuplicateZoneCheck")]===!0;if(n.Zone&&(o||typeof n.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return n.Zone??=ii(),n.Zone}var Ze=Object.getOwnPropertyDescriptor,Pt=Object.defineProperty,Ft=Object.getPrototypeOf,si=Object.create,ci=Array.prototype.slice,At="addEventListener",zt="removeEventListener",_t=oe(At),Rt=oe(zt),ge="true",ve="false",He=oe("");function Ot(n,o){return Zone.current.wrap(n,o)}function Nt(n,o,e,t,i){return Zone.current.scheduleMacroTask(n,o,e,t,i)}var N=oe,lt=typeof window<"u",Fe=lt?window:void 0,Q=lt&&Fe||globalThis,ai="removeAttribute";function Lt(n,o){for(let e=n.length-1;e>=0;e--)typeof n[e]=="function"&&(n[e]=Ot(n[e],o+"_"+e));return n}function li(n,o){let e=n.constructor.name;for(let t=0;t<o.length;t++){let i=o[t],s=n[i];if(s){let l=Ze(n,i);if(!vo(l))continue;n[i]=(d=>{let u=function(){return d.apply(this,Lt(arguments,e+"."+i))};return Ce(u,d),u})(s)}}}function vo(n){return n?n.writable===!1?!1:!(typeof n.get=="function"&&typeof n.set>"u"):!0}var Io=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,dt=!("nw"in Q)&&typeof Q.process<"u"&&Q.process.toString()==="[object process]",Bt=!dt&&!Io&&!!(lt&&Fe.HTMLElement),Co=typeof Q.process<"u"&&Q.process.toString()==="[object process]"&&!Io&&!!(lt&&Fe.HTMLElement),at={},di=N("enable_beforeunload"),uo=function(n){if(n=n||Q.event,!n)return;let o=at[n.type];o||(o=at[n.type]=N("ON_PROPERTY"+n.type));let e=this||n.target||Q,t=e[o],i;if(Bt&&e===Fe&&n.type==="error"){let s=n;i=t&&t.call(this,s.message,s.filename,s.lineno,s.colno,s.error),i===!0&&n.preventDefault()}else i=t&&t.apply(this,arguments),n.type==="beforeunload"&&Q[di]&&typeof i=="string"?n.returnValue=i:i!=null&&!i&&n.preventDefault();return i};function mo(n,o,e){let t=Ze(n,o);if(!t&&e&&Ze(e,o)&&(t={enumerable:!0,configurable:!0}),!t||!t.configurable)return;let i=N("on"+o+"patched");if(n.hasOwnProperty(i)&&n[i])return;delete t.writable,delete t.value;let s=t.get,l=t.set,d=o.slice(2),u=at[d];u||(u=at[d]=N("ON_PROPERTY"+d)),t.set=function(v){let h=this;if(!h&&n===Q&&(h=Q),!h)return;typeof h[u]=="function"&&h.removeEventListener(d,uo),l&&l.call(h,null),h[u]=v,typeof v=="function"&&h.addEventListener(d,uo,!1)},t.get=function(){let v=this;if(!v&&n===Q&&(v=Q),!v)return null;let h=v[u];if(h)return h;if(s){let E=s.call(this);if(E)return t.set.call(this,E),typeof v[ai]=="function"&&v.removeAttribute(o),E}return null},Pt(n,o,t),n[i]=!0}function yo(n,o,e){if(o)for(let t=0;t<o.length;t++)mo(n,"on"+o[t],e);else{let t=[];for(let i in n)i.slice(0,2)=="on"&&t.push(i);for(let i=0;i<t.length;i++)mo(n,t[i],e)}}var ae=N("originalInstance");function Be(n){let o=Q[n];if(!o)return;Q[N(n)]=o,Q[n]=function(){let i=Lt(arguments,n);switch(i.length){case 0:this[ae]=new o;break;case 1:this[ae]=new o(i[0]);break;case 2:this[ae]=new o(i[0],i[1]);break;case 3:this[ae]=new o(i[0],i[1],i[2]);break;case 4:this[ae]=new o(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},Ce(Q[n],o);let e=new o(function(){}),t;for(t in e)n==="XMLHttpRequest"&&t==="responseBlob"||function(i){typeof e[i]=="function"?Q[n].prototype[i]=function(){return this[ae][i].apply(this[ae],arguments)}:Pt(Q[n].prototype,i,{set:function(s){typeof s=="function"?(this[ae][i]=Ot(s,n+"."+i),Ce(this[ae][i],s)):this[ae][i]=s},get:function(){return this[ae][i]}})}(t);for(t in o)t!=="prototype"&&o.hasOwnProperty(t)&&(Q[n][t]=o[t])}function Ie(n,o,e){let t=n;for(;t&&!t.hasOwnProperty(o);)t=Ft(t);!t&&n[o]&&(t=n);let i=N(o),s=null;if(t&&(!(s=t[i])||!t.hasOwnProperty(i))){s=t[i]=t[o];let l=t&&Ze(t,o);if(vo(l)){let d=e(s,i,o);t[o]=function(){return d(this,arguments)},Ce(t[o],s)}}return s}function ui(n,o,e){let t=null;function i(s){let l=s.data;return l.args[l.cbIdx]=function(){s.invoke.apply(this,arguments)},t.apply(l.target,l.args),s}t=Ie(n,o,s=>function(l,d){let u=e(l,d);return u.cbIdx>=0&&typeof d[u.cbIdx]=="function"?Nt(u.name,d[u.cbIdx],u,i):s.apply(l,d)})}function Ce(n,o){n[N("OriginalDelegate")]=o}var fo=!1,Mt=!1;function mi(){try{let n=Fe.navigator.userAgent;if(n.indexOf("MSIE ")!==-1||n.indexOf("Trident/")!==-1)return!0}catch{}return!1}function fi(){if(fo)return Mt;fo=!0;try{let n=Fe.navigator.userAgent;(n.indexOf("MSIE ")!==-1||n.indexOf("Trident/")!==-1||n.indexOf("Edge/")!==-1)&&(Mt=!0)}catch{}return Mt}function po(n){return typeof n=="function"}function ho(n){return typeof n=="number"}var Pe=!1;if(typeof window<"u")try{let n=Object.defineProperty({},"passive",{get:function(){Pe=!0}});window.addEventListener("test",n,n),window.removeEventListener("test",n,n)}catch{Pe=!1}var pi={useG:!0},ie={},Eo={},bo=new RegExp("^"+He+"(\\w+)(true|false)$"),Do=N("propagationStopped");function To(n,o){let e=(o?o(n):n)+ve,t=(o?o(n):n)+ge,i=He+e,s=He+t;ie[n]={},ie[n][ve]=i,ie[n][ge]=s}function hi(n,o,e,t){let i=t&&t.add||At,s=t&&t.rm||zt,l=t&&t.listeners||"eventListeners",d=t&&t.rmAll||"removeAllListeners",u=N(i),v="."+i+":",h="prependListener",E="."+h+":",j=function(D,g,O){if(D.isRemoved)return;let B=D.callback;typeof B=="object"&&B.handleEvent&&(D.callback=C=>B.handleEvent(C),D.originalDelegate=B);let Y;try{D.invoke(D,g,[O])}catch(C){Y=C}let Z=D.options;if(Z&&typeof Z=="object"&&Z.once){let C=D.originalDelegate?D.originalDelegate:D.callback;g[s].call(g,O.type,C,Z)}return Y};function L(D,g,O){if(g=g||n.event,!g)return;let B=D||g.target||n,Y=B[ie[g.type][O?ge:ve]];if(Y){let Z=[];if(Y.length===1){let C=j(Y[0],B,g);C&&Z.push(C)}else{let C=Y.slice();for(let W=0;W<C.length&&!(g&&g[Do]===!0);W++){let M=j(C[W],B,g);M&&Z.push(M)}}if(Z.length===1)throw Z[0];for(let C=0;C<Z.length;C++){let W=Z[C];o.nativeScheduleMicroTask(()=>{throw W})}}}let V=function(D){return L(this,D,!1)},K=function(D){return L(this,D,!0)};function J(D,g){if(!D)return!1;let O=!0;g&&g.useG!==void 0&&(O=g.useG);let B=g&&g.vh,Y=!0;g&&g.chkDup!==void 0&&(Y=g.chkDup);let Z=!1;g&&g.rt!==void 0&&(Z=g.rt);let C=D;for(;C&&!C.hasOwnProperty(i);)C=Ft(C);if(!C&&D[i]&&(C=D),!C||C[u])return!1;let W=g&&g.eventNameToString,M={},S=C[u]=C[i],w=C[N(s)]=C[s],R=C[N(l)]=C[l],te=C[N(d)]=C[d],U;g&&g.prepend&&(U=C[N(g.prepend)]=C[g.prepend]);function x(a,f){return!Pe&&typeof a=="object"&&a?!!a.capture:!Pe||!f?a:typeof a=="boolean"?{capture:a,passive:!0}:a?typeof a=="object"&&a.passive!==!1?ft(Ve({},a),{passive:!0}):a:{passive:!0}}let I=function(a){if(!M.isExisting)return S.call(M.target,M.eventName,M.capture?K:V,M.options)},r=function(a){if(!a.isRemoved){let f=ie[a.eventName],T;f&&(T=f[a.capture?ge:ve]);let _=T&&a.target[T];if(_){for(let y=0;y<_.length;y++)if(_[y]===a){_.splice(y,1),a.isRemoved=!0,a.removeAbortListener&&(a.removeAbortListener(),a.removeAbortListener=null),_.length===0&&(a.allRemoved=!0,a.target[T]=null);break}}}if(a.allRemoved)return w.call(a.target,a.eventName,a.capture?K:V,a.options)},c=function(a){return S.call(M.target,M.eventName,a.invoke,M.options)},b=function(a){return U.call(M.target,M.eventName,a.invoke,M.options)},k=function(a){return w.call(a.target,a.eventName,a.invoke,a.options)},X=O?I:c,z=O?r:k,ye=function(a,f){let T=typeof f;return T==="function"&&a.callback===f||T==="object"&&a.originalDelegate===f},fe=g&&g.diff?g.diff:ye,pe=Zone[N("UNPATCHED_EVENTS")],re=n[N("PASSIVE_EVENTS")];function p(a){if(typeof a=="object"&&a!==null){let f=Ve({},a);return a.signal&&(f.signal=a.signal),f}return a}let m=function(a,f,T,_,y=!1,P=!1){return function(){let F=this||n,A=arguments[0];g&&g.transferEventName&&(A=g.transferEventName(A));let H=arguments[1];if(!H)return a.apply(this,arguments);if(dt&&A==="uncaughtException")return a.apply(this,arguments);let $=!1;if(typeof H!="function"){if(!H.handleEvent)return a.apply(this,arguments);$=!0}if(B&&!B(a,H,F,arguments))return;let Ee=Pe&&!!re&&re.indexOf(A)!==-1,le=p(x(arguments[2],Ee)),we=le?.signal;if(we?.aborted)return;if(pe){for(let de=0;de<pe.length;de++)if(A===pe[de])return Ee?a.call(F,A,H,le):a.apply(this,arguments)}let ut=le?typeof le=="boolean"?!0:le.capture:!1,Zt=le&&typeof le=="object"?le.once:!1,So=Zone.current,mt=ie[A];mt||(To(A,W),mt=ie[A]);let Ht=mt[ut?ge:ve],je=F[Ht],$t=!1;if(je){if($t=!0,Y){for(let de=0;de<je.length;de++)if(fe(je[de],H))return}}else je=F[Ht]=[];let $e,Vt=F.constructor.name,Wt=Eo[Vt];Wt&&($e=Wt[A]),$e||($e=Vt+f+(W?W(A):A)),M.options=le,Zt&&(M.options.once=!1),M.target=F,M.capture=ut,M.eventName=A,M.isExisting=$t;let Ae=O?pi:void 0;Ae&&(Ae.taskData=M),we&&(M.options.signal=void 0);let se=So.scheduleEventTask($e,H,Ae,T,_);if(we){M.options.signal=we;let de=()=>se.zone.cancelTask(se);a.call(we,"abort",de,{once:!0}),se.removeAbortListener=()=>we.removeEventListener("abort",de)}if(M.target=null,Ae&&(Ae.taskData=null),Zt&&(M.options.once=!0),!Pe&&typeof se.options=="boolean"||(se.options=le),se.target=F,se.capture=ut,se.eventName=A,$&&(se.originalDelegate=H),P?je.unshift(se):je.push(se),y)return F}};return C[i]=m(S,v,X,z,Z),U&&(C[h]=m(U,E,b,z,Z,!0)),C[s]=function(){let a=this||n,f=arguments[0];g&&g.transferEventName&&(f=g.transferEventName(f));let T=arguments[2],_=T?typeof T=="boolean"?!0:T.capture:!1,y=arguments[1];if(!y)return w.apply(this,arguments);if(B&&!B(w,y,a,arguments))return;let P=ie[f],F;P&&(F=P[_?ge:ve]);let A=F&&a[F];if(A)for(let H=0;H<A.length;H++){let $=A[H];if(fe($,y)){if(A.splice(H,1),$.isRemoved=!0,A.length===0&&($.allRemoved=!0,a[F]=null,!_&&typeof f=="string")){let Ee=He+"ON_PROPERTY"+f;a[Ee]=null}return $.zone.cancelTask($),Z?a:void 0}}return w.apply(this,arguments)},C[l]=function(){let a=this||n,f=arguments[0];g&&g.transferEventName&&(f=g.transferEventName(f));let T=[],_=wo(a,W?W(f):f);for(let y=0;y<_.length;y++){let P=_[y],F=P.originalDelegate?P.originalDelegate:P.callback;T.push(F)}return T},C[d]=function(){let a=this||n,f=arguments[0];if(f){g&&g.transferEventName&&(f=g.transferEventName(f));let T=ie[f];if(T){let _=T[ve],y=T[ge],P=a[_],F=a[y];if(P){let A=P.slice();for(let H=0;H<A.length;H++){let $=A[H],Ee=$.originalDelegate?$.originalDelegate:$.callback;this[s].call(this,f,Ee,$.options)}}if(F){let A=F.slice();for(let H=0;H<A.length;H++){let $=A[H],Ee=$.originalDelegate?$.originalDelegate:$.callback;this[s].call(this,f,Ee,$.options)}}}}else{let T=Object.keys(a);for(let _=0;_<T.length;_++){let y=T[_],P=bo.exec(y),F=P&&P[1];F&&F!=="removeListener"&&this[d].call(this,F)}this[d].call(this,"removeListener")}if(Z)return this},Ce(C[i],S),Ce(C[s],w),te&&Ce(C[d],te),R&&Ce(C[l],R),!0}let q=[];for(let D=0;D<e.length;D++)q[D]=J(e[D],t);return q}function wo(n,o){if(!o){let s=[];for(let l in n){let d=bo.exec(l),u=d&&d[1];if(u&&(!o||u===o)){let v=n[l];if(v)for(let h=0;h<v.length;h++)s.push(v[h])}}return s}let e=ie[o];e||(To(o),e=ie[o]);let t=n[e[ve]],i=n[e[ge]];return t?i?t.concat(i):t.slice():i?i.slice():[]}function gi(n,o){let e=n.Event;e&&e.prototype&&o.patchMethod(e.prototype,"stopImmediatePropagation",t=>function(i,s){i[Do]=!0,t&&t.apply(i,s)})}function vi(n,o){o.patchMethod(n,"queueMicrotask",e=>function(t,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}var ct=N("zoneTask");function xe(n,o,e,t){let i=null,s=null;o+=t,e+=t;let l={};function d(v){let h=v.data;h.args[0]=function(){return v.invoke.apply(this,arguments)};let E=i.apply(n,h.args);return ho(E)?h.handleId=E:(h.handle=E,h.isRefreshable=po(E.refresh)),v}function u(v){let{handle:h,handleId:E}=v.data;return s.call(n,h??E)}i=Ie(n,o,v=>function(h,E){if(po(E[0])){let j={isRefreshable:!1,isPeriodic:t==="Interval",delay:t==="Timeout"||t==="Interval"?E[1]||0:void 0,args:E},L=E[0];E[0]=function(){try{return L.apply(this,arguments)}finally{let{handle:O,handleId:B,isPeriodic:Y,isRefreshable:Z}=j;!Y&&!Z&&(B?delete l[B]:O&&(O[ct]=null))}};let V=Nt(o,E[0],j,d,u);if(!V)return V;let{handleId:K,handle:J,isRefreshable:q,isPeriodic:D}=V.data;if(K)l[K]=V;else if(J&&(J[ct]=V,q&&!D)){let g=J.refresh;J.refresh=function(){let{zone:O,state:B}=V;return B==="notScheduled"?(V._state="scheduled",O._updateTaskCount(V,1)):B==="running"&&(V._state="scheduling"),g.call(this)}}return J??K??V}else return v.apply(n,E)}),s=Ie(n,e,v=>function(h,E){let j=E[0],L;ho(j)?(L=l[j],delete l[j]):(L=j?.[ct],L?j[ct]=null:L=j),L?.type?L.cancelFn&&L.zone.cancelTask(L):v.apply(n,E)})}function Ii(n,o){let{isBrowser:e,isMix:t}=o.getGlobalObjects();if(!e&&!t||!n.customElements||!("customElements"in n))return;let i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];o.patchCallbacks(o,n.customElements,"customElements","define",i)}function Ci(n,o){if(Zone[o.symbol("patchEventTarget")])return;let{eventNames:e,zoneSymbolEventNames:t,TRUE_STR:i,FALSE_STR:s,ZONE_SYMBOL_PREFIX:l}=o.getGlobalObjects();for(let u=0;u<e.length;u++){let v=e[u],h=v+s,E=v+i,j=l+h,L=l+E;t[v]={},t[v][s]=j,t[v][i]=L}let d=n.EventTarget;if(!(!d||!d.prototype))return o.patchEventTarget(n,o,[d&&d.prototype]),!0}function yi(n,o){o.patchEventPrototype(n,o)}function jo(n,o,e){if(!e||e.length===0)return o;let t=e.filter(s=>s.target===n);if(!t||t.length===0)return o;let i=t[0].ignoreProperties;return o.filter(s=>i.indexOf(s)===-1)}function go(n,o,e,t){if(!n)return;let i=jo(n,o,e);yo(n,i,t)}function xt(n){return Object.getOwnPropertyNames(n).filter(o=>o.startsWith("on")&&o.length>2).map(o=>o.substring(2))}function Ei(n,o){if(dt&&!Co||Zone[n.symbol("patchEvents")])return;let e=o.__Zone_ignore_on_properties,t=[];if(Bt){let i=window;t=t.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let s=mi()?[{target:i,ignoreProperties:["error"]}]:[];go(i,xt(i),e&&e.concat(s),Ft(i))}t=t.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<t.length;i++){let s=o[t[i]];s&&s.prototype&&go(s.prototype,xt(s.prototype),e)}}function bi(n){n.__load_patch("legacy",o=>{let e=o[n.__symbol__("legacyPatch")];e&&e()}),n.__load_patch("timers",o=>{let e="set",t="clear";xe(o,e,t,"Timeout"),xe(o,e,t,"Interval"),xe(o,e,t,"Immediate")}),n.__load_patch("requestAnimationFrame",o=>{xe(o,"request","cancel","AnimationFrame"),xe(o,"mozRequest","mozCancel","AnimationFrame"),xe(o,"webkitRequest","webkitCancel","AnimationFrame")}),n.__load_patch("blocking",(o,e)=>{let t=["alert","prompt","confirm"];for(let i=0;i<t.length;i++){let s=t[i];Ie(o,s,(l,d,u)=>function(v,h){return e.current.run(l,o,h,u)})}}),n.__load_patch("EventTarget",(o,e,t)=>{yi(o,t),Ci(o,t);let i=o.XMLHttpRequestEventTarget;i&&i.prototype&&t.patchEventTarget(o,t,[i.prototype])}),n.__load_patch("MutationObserver",(o,e,t)=>{Be("MutationObserver"),Be("WebKitMutationObserver")}),n.__load_patch("IntersectionObserver",(o,e,t)=>{Be("IntersectionObserver")}),n.__load_patch("FileReader",(o,e,t)=>{Be("FileReader")}),n.__load_patch("on_property",(o,e,t)=>{Ei(t,o)}),n.__load_patch("customElements",(o,e,t)=>{Ii(o,t)}),n.__load_patch("XHR",(o,e)=>{v(o);let t=N("xhrTask"),i=N("xhrSync"),s=N("xhrListener"),l=N("xhrScheduled"),d=N("xhrURL"),u=N("xhrErrorBeforeScheduled");function v(h){let E=h.XMLHttpRequest;if(!E)return;let j=E.prototype;function L(S){return S[t]}let V=j[_t],K=j[Rt];if(!V){let S=h.XMLHttpRequestEventTarget;if(S){let w=S.prototype;V=w[_t],K=w[Rt]}}let J="readystatechange",q="scheduled";function D(S){let w=S.data,R=w.target;R[l]=!1,R[u]=!1;let te=R[s];V||(V=R[_t],K=R[Rt]),te&&K.call(R,J,te);let U=R[s]=()=>{if(R.readyState===R.DONE)if(!w.aborted&&R[l]&&S.state===q){let I=R[e.__symbol__("loadfalse")];if(R.status!==0&&I&&I.length>0){let r=S.invoke;S.invoke=function(){let c=R[e.__symbol__("loadfalse")];for(let b=0;b<c.length;b++)c[b]===S&&c.splice(b,1);!w.aborted&&S.state===q&&r.call(S)},I.push(S)}else S.invoke()}else!w.aborted&&R[l]===!1&&(R[u]=!0)};return V.call(R,J,U),R[t]||(R[t]=S),W.apply(R,w.args),R[l]=!0,S}function g(){}function O(S){let w=S.data;return w.aborted=!0,M.apply(w.target,w.args)}let B=Ie(j,"open",()=>function(S,w){return S[i]=w[2]==!1,S[d]=w[1],B.apply(S,w)}),Y="XMLHttpRequest.send",Z=N("fetchTaskAborting"),C=N("fetchTaskScheduling"),W=Ie(j,"send",()=>function(S,w){if(e.current[C]===!0||S[i])return W.apply(S,w);{let R={target:S,url:S[d],isPeriodic:!1,args:w,aborted:!1},te=Nt(Y,g,R,D,O);S&&S[u]===!0&&!R.aborted&&te.state===q&&te.invoke()}}),M=Ie(j,"abort",()=>function(S,w){let R=L(S);if(R&&typeof R.type=="string"){if(R.cancelFn==null||R.data&&R.data.aborted)return;R.zone.cancelTask(R)}else if(e.current[Z]===!0)return M.apply(S,w)})}}),n.__load_patch("geolocation",o=>{o.navigator&&o.navigator.geolocation&&li(o.navigator.geolocation,["getCurrentPosition","watchPosition"])}),n.__load_patch("PromiseRejectionEvent",(o,e)=>{function t(i){return function(s){wo(o,i).forEach(d=>{let u=o.PromiseRejectionEvent;if(u){let v=new u(i,{promise:s.promise,reason:s.rejection});d.invoke(v)}})}}o.PromiseRejectionEvent&&(e[N("unhandledPromiseRejectionHandler")]=t("unhandledrejection"),e[N("rejectionHandledHandler")]=t("rejectionhandled"))}),n.__load_patch("queueMicrotask",(o,e,t)=>{vi(o,t)})}function Di(n){n.__load_patch("ZoneAwarePromise",(o,e,t)=>{let i=Object.getOwnPropertyDescriptor,s=Object.defineProperty;function l(p){if(p&&p.toString===Object.prototype.toString){let m=p.constructor&&p.constructor.name;return(m||"")+": "+JSON.stringify(p)}return p?p.toString():Object.prototype.toString.call(p)}let d=t.symbol,u=[],v=o[d("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,h=d("Promise"),E=d("then"),j="__creationTrace__";t.onUnhandledError=p=>{if(t.showUncaughtError()){let m=p&&p.rejection;m?console.error("Unhandled Promise rejection:",m instanceof Error?m.message:m,"; Zone:",p.zone.name,"; Task:",p.task&&p.task.source,"; Value:",m,m instanceof Error?m.stack:void 0):console.error(p)}},t.microtaskDrainDone=()=>{for(;u.length;){let p=u.shift();try{p.zone.runGuarded(()=>{throw p.throwOriginal?p.rejection:p})}catch(m){V(m)}}};let L=d("unhandledPromiseRejectionHandler");function V(p){t.onUnhandledError(p);try{let m=e[L];typeof m=="function"&&m.call(this,p)}catch{}}function K(p){return p&&p.then}function J(p){return p}function q(p){return z.reject(p)}let D=d("state"),g=d("value"),O=d("finally"),B=d("parentPromiseValue"),Y=d("parentPromiseState"),Z="Promise.then",C=null,W=!0,M=!1,S=0;function w(p,m){return a=>{try{x(p,m,a)}catch(f){x(p,!1,f)}}}let R=function(){let p=!1;return function(a){return function(){p||(p=!0,a.apply(null,arguments))}}},te="Promise resolved with itself",U=d("currentTaskTrace");function x(p,m,a){let f=R();if(p===a)throw new TypeError(te);if(p[D]===C){let T=null;try{(typeof a=="object"||typeof a=="function")&&(T=a&&a.then)}catch(_){return f(()=>{x(p,!1,_)})(),p}if(m!==M&&a instanceof z&&a.hasOwnProperty(D)&&a.hasOwnProperty(g)&&a[D]!==C)r(a),x(p,a[D],a[g]);else if(m!==M&&typeof T=="function")try{T.call(a,f(w(p,m)),f(w(p,!1)))}catch(_){f(()=>{x(p,!1,_)})()}else{p[D]=m;let _=p[g];if(p[g]=a,p[O]===O&&m===W&&(p[D]=p[Y],p[g]=p[B]),m===M&&a instanceof Error){let y=e.currentTask&&e.currentTask.data&&e.currentTask.data[j];y&&s(a,U,{configurable:!0,enumerable:!1,writable:!0,value:y})}for(let y=0;y<_.length;)c(p,_[y++],_[y++],_[y++],_[y++]);if(_.length==0&&m==M){p[D]=S;let y=a;try{throw new Error("Uncaught (in promise): "+l(a)+(a&&a.stack?`
`+a.stack:""))}catch(P){y=P}v&&(y.throwOriginal=!0),y.rejection=a,y.promise=p,y.zone=e.current,y.task=e.currentTask,u.push(y),t.scheduleMicroTask()}}}return p}let I=d("rejectionHandledHandler");function r(p){if(p[D]===S){try{let m=e[I];m&&typeof m=="function"&&m.call(this,{rejection:p[g],promise:p})}catch{}p[D]=M;for(let m=0;m<u.length;m++)p===u[m].promise&&u.splice(m,1)}}function c(p,m,a,f,T){r(p);let _=p[D],y=_?typeof f=="function"?f:J:typeof T=="function"?T:q;m.scheduleMicroTask(Z,()=>{try{let P=p[g],F=!!a&&O===a[O];F&&(a[B]=P,a[Y]=_);let A=m.run(y,void 0,F&&y!==q&&y!==J?[]:[P]);x(a,!0,A)}catch(P){x(a,!1,P)}},a)}let b="function ZoneAwarePromise() { [native code] }",k=function(){},X=o.AggregateError;class z{static toString(){return b}static resolve(m){return m instanceof z?m:x(new this(null),W,m)}static reject(m){return x(new this(null),M,m)}static withResolvers(){let m={};return m.promise=new z((a,f)=>{m.resolve=a,m.reject=f}),m}static any(m){if(!m||typeof m[Symbol.iterator]!="function")return Promise.reject(new X([],"All promises were rejected"));let a=[],f=0;try{for(let y of m)f++,a.push(z.resolve(y))}catch{return Promise.reject(new X([],"All promises were rejected"))}if(f===0)return Promise.reject(new X([],"All promises were rejected"));let T=!1,_=[];return new z((y,P)=>{for(let F=0;F<a.length;F++)a[F].then(A=>{T||(T=!0,y(A))},A=>{_.push(A),f--,f===0&&(T=!0,P(new X(_,"All promises were rejected")))})})}static race(m){let a,f,T=new this((P,F)=>{a=P,f=F});function _(P){a(P)}function y(P){f(P)}for(let P of m)K(P)||(P=this.resolve(P)),P.then(_,y);return T}static all(m){return z.allWithCallback(m)}static allSettled(m){return(this&&this.prototype instanceof z?this:z).allWithCallback(m,{thenCallback:f=>({status:"fulfilled",value:f}),errorCallback:f=>({status:"rejected",reason:f})})}static allWithCallback(m,a){let f,T,_=new this((A,H)=>{f=A,T=H}),y=2,P=0,F=[];for(let A of m){K(A)||(A=this.resolve(A));let H=P;try{A.then($=>{F[H]=a?a.thenCallback($):$,y--,y===0&&f(F)},$=>{a?(F[H]=a.errorCallback($),y--,y===0&&f(F)):T($)})}catch($){T($)}y++,P++}return y-=2,y===0&&f(F),_}constructor(m){let a=this;if(!(a instanceof z))throw new Error("Must be an instanceof Promise.");a[D]=C,a[g]=[];try{let f=R();m&&m(f(w(a,W)),f(w(a,M)))}catch(f){x(a,!1,f)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return z}then(m,a){let f=this.constructor?.[Symbol.species];(!f||typeof f!="function")&&(f=this.constructor||z);let T=new f(k),_=e.current;return this[D]==C?this[g].push(_,T,m,a):c(this,_,T,m,a),T}catch(m){return this.then(null,m)}finally(m){let a=this.constructor?.[Symbol.species];(!a||typeof a!="function")&&(a=z);let f=new a(k);f[O]=O;let T=e.current;return this[D]==C?this[g].push(T,f,m,m):c(this,T,f,m,m),f}}z.resolve=z.resolve,z.reject=z.reject,z.race=z.race,z.all=z.all;let ye=o[h]=o.Promise;o.Promise=z;let fe=d("thenPatched");function pe(p){let m=p.prototype,a=i(m,"then");if(a&&(a.writable===!1||!a.configurable))return;let f=m.then;m[E]=f,p.prototype.then=function(T,_){return new z((P,F)=>{f.call(this,P,F)}).then(T,_)},p[fe]=!0}t.patchThen=pe;function re(p){return function(m,a){let f=p.apply(m,a);if(f instanceof z)return f;let T=f.constructor;return T[fe]||pe(T),f}}return ye&&(pe(ye),Ie(o,"fetch",p=>re(p))),Promise[e.__symbol__("uncaughtPromiseErrors")]=u,z})}function Ti(n){n.__load_patch("toString",o=>{let e=Function.prototype.toString,t=N("OriginalDelegate"),i=N("Promise"),s=N("Error"),l=function(){if(typeof this=="function"){let h=this[t];if(h)return typeof h=="function"?e.call(h):Object.prototype.toString.call(h);if(this===Promise){let E=o[i];if(E)return e.call(E)}if(this===Error){let E=o[s];if(E)return e.call(E)}}return e.call(this)};l[t]=e,Function.prototype.toString=l;let d=Object.prototype.toString,u="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?u:d.call(this)}})}function wi(n,o,e,t,i){let s=Zone.__symbol__(t);if(o[s])return;let l=o[s]=o[t];o[t]=function(d,u,v){return u&&u.prototype&&i.forEach(function(h){let E=`${e}.${t}::`+h,j=u.prototype;try{if(j.hasOwnProperty(h)){let L=n.ObjectGetOwnPropertyDescriptor(j,h);L&&L.value?(L.value=n.wrapWithCurrentZone(L.value,E),n._redefineProperty(u.prototype,h,L)):j[h]&&(j[h]=n.wrapWithCurrentZone(j[h],E))}else j[h]&&(j[h]=n.wrapWithCurrentZone(j[h],E))}catch{}}),l.call(o,d,u,v)},n.attachOriginToPatched(o[t],l)}function ji(n){n.__load_patch("util",(o,e,t)=>{let i=xt(o);t.patchOnProperties=yo,t.patchMethod=Ie,t.bindArguments=Lt,t.patchMacroTask=ui;let s=e.__symbol__("BLACK_LISTED_EVENTS"),l=e.__symbol__("UNPATCHED_EVENTS");o[l]&&(o[s]=o[l]),o[s]&&(e[s]=e[l]=o[s]),t.patchEventPrototype=gi,t.patchEventTarget=hi,t.isIEOrEdge=fi,t.ObjectDefineProperty=Pt,t.ObjectGetOwnPropertyDescriptor=Ze,t.ObjectCreate=si,t.ArraySlice=ci,t.patchClass=Be,t.wrapWithCurrentZone=Ot,t.filterProperties=jo,t.attachOriginToPatched=Ce,t._redefineProperty=Object.defineProperty,t.patchCallbacks=wi,t.getGlobalObjects=()=>({globalSources:Eo,zoneSymbolEventNames:ie,eventNames:i,isBrowser:Bt,isMix:Co,isNode:dt,TRUE_STR:ge,FALSE_STR:ve,ZONE_SYMBOL_PREFIX:He,ADD_EVENT_LISTENER_STR:At,REMOVE_EVENT_LISTENER_STR:zt})})}function ki(n){Di(n),Ti(n),ji(n)}var ko=ri();ki(ko);bi(ko);function Si(n){return new Xn(n,"./assets/i18n/",".json")}function _i(){return localStorage.getItem("jwt")}function Ri(){let n=document.querySelector("ibf-dashboard")!==null,o=window.location.hash.includes("#IBFDashboard")||window.location.hash.includes("IBFDashboard"),e=window.location.search.includes("embedded=true"),t=document.documentElement.hasAttribute("data-ibf-mode"),i=n||o||e||t;return console.log("\u{1F50D} Embedded mode detection:",{hasCustomElement:n,hasEmbeddedHash:o,hasEmbeddedParam:e,hasEmbeddedDataAttribute:t,finalResult:i,currentHash:window.location.hash,currentSearch:window.location.search}),i}ee(null,null,function*(){try{console.log("\u{1F680} Initializing IBF Dashboard Web Component (Angular Elements + zone.js)...");let n=Ri();console.log("\u{1F50D} Embedded mode detected:",n);let o=yield In({providers:[be(Cn),be(vn),be(zn.forRoot({mode:"md"})),be(bn.forRoot([{path:"test",loadComponent:()=>(console.log("\u{1F9EA} Loading test component..."),import("./chunk-OZ62QCOY.js").then(l=>(console.log("\u2705 Test component loaded successfully"),l.TestComponent)).catch(l=>{throw console.error("\u274C Failed to load test component:",l),l}))},{path:"",loadChildren:()=>(console.log("\u{1F4CA} Attempting to load dashboard module..."),console.log("\u{1F4C2} Import path: src/app/pages/dashboard/dashboard.module"),import("./chunk-VL2LEC2B.js").then(l=>(console.log("\u2705 Dashboard module imported successfully:",l),console.log("\u{1F50D} Module exports:",Object.keys(l)),console.log("\u{1F4CB} DashboardPageModule:",l.DashboardPageModule),l.DashboardPageModule)).catch(l=>{throw console.error("\u274C Failed to load dashboard module:",l),console.error("\u{1F4CB} Error details:",{name:l.name,message:l.message,stack:l.stack}),l}))},{path:"login",loadChildren:()=>import("./chunk-B4SG2CW4.js").then(l=>l.LoginPageModule)},{path:"**",redirectTo:""}],{enableTracing:!0})),be(ot.forRoot({loader:{provide:On,useFactory:Si,deps:[Je]}})),be(Dn.forRoot({config:{tokenGetter:_i,allowedDomains:["ibf-test.510.global","ibf-api.rodekruis.nl"],disallowedRoutes:["http://example.com/examplebadroute/"]}})),{provide:En,useClass:An},{provide:Ct,useClass:lo,multi:!0},{provide:Ct,useClass:co,multi:!0},hn(gn()),...n?[{provide:Ke,useClass:ao}]:[]]}),e=Wn(so,{injector:o.injector}),t=e.prototype.connectedCallback,i=e.prototype.attributeChangedCallback;e.prototype.connectedCallback=function(){document.documentElement.setAttribute("data-ibf-mode","embedded"),document.documentElement.style.setProperty("--ibf-mode","embedded");let l=this.getAttribute("height")||"600px";document.documentElement.style.setProperty("--ibf-app-height",l),this.style.height=l,console.log("\u{1F3AF} IBF Dashboard web component connected in EMBEDDED mode"),console.log(`\u{1F4CF} Height set to: ${l}`),t&&t.call(this)},e.prototype.attributeChangedCallback=function(l,d,u){l==="height"&&(document.documentElement.style.setProperty("--ibf-app-height",u),this.style.height=u,console.log(`\u{1F4CF} Height updated to: ${u}`)),i&&i.call(this,l,d,u)};let s=e.observedAttributes||[];Object.defineProperty(e,"observedAttributes",{value:[...s,"height","width"],writable:!1,enumerable:!0,configurable:!0}),customElements.define("ibf-dashboard",e),console.log("\u2705 IBF Dashboard web component registered successfully with zone.js"),window.dispatchEvent(new CustomEvent("ibf-dashboard-ready",{detail:{version:rt.ibfSystemVersion,timestamp:new Date,approach:"createApplication-with-zone.js"}}))}catch(n){console.error("\u274C Failed to register IBF Dashboard web component:",n),console.error("Error details:",n.stack),window.dispatchEvent(new CustomEvent("ibf-dashboard-error",{detail:{error:n.message,stack:n.stack,timestamp:new Date}}))}});export{Si as HttpLoaderFactory,_i as tokenGetter};
/*! Bundled license information:

@angular/elements/fesm2022/elements.mjs:
  (**
   * @license Angular v19.2.8
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)

@ionic/core/components/framework-delegate.js:
@ionic/core/components/lock-controller.js:
@ionic/core/components/ion-router-outlet.js:
@ionic/core/components/ion-app.js:
@ionic/core/components/spinner.js:
@ionic/core/components/ion-spinner.js:
  (*!
   * (C) Ionic http://ionicframework.com - MIT License
   *)

zone.js/fesm2015/zone.js:
  (**
   * @license Angular v<unknown>
   * (c) 2010-2024 Google LLC. https://angular.io/
   * License: MIT
   *)
*/
