<form #loginForm="ngForm" (ngSubmit)="onSubmit()" class="login-form space-y-4">
  <input
    type="submit"
    hidden
    [disabled]="!loginForm.form.valid"
  /><!-- Include hidden submit-button to enable "enter"-key to trigger ngSubmit -->

  <ion-item>
    <ion-label position="stacked">{{
      'login-page.email' | translate
    }}</ion-label>
    <ion-input
      [ngModel]="model.email"
      (ngModelChange)="model.email = $event"
      name="email"
      type="email"
      required
      inputmode="email"
      pattern=".+@.+\.[a-z]+"
      autocomplete="email username"
      data-test="input-user"
      [readonly]="formState === 'verify'"
    ></ion-input>
  </ion-item>
  @if (formState === 'verify') {
    <ion-item>
      <ion-label position="stacked">{{
        'login-page.code' | translate
      }}</ion-label>
      <ion-input
        [ngModel]="model.code"
        (ngModelChange)="model.code = $event"
        name="code"
        type="text"
        required
        inputmode="numeric"
        pattern="[0-9]*"
        autocomplete="one-time-code"
        data-test="input-verification-code"
      ></ion-input>
    </ion-item>
  }

  <ion-button
    type="submit"
    shape="round"
    color="fiveten-navy-900"
    expand="full"
    data-test="login-button"
    [disabled]="!loginForm.form.valid"
    >{{ 'login-page.title' | translate }}</ion-button
  >
</form>
