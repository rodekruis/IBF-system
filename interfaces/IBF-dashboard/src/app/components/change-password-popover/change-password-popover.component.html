<ion-card class="popover-window-card">
  <ion-card-header color="ibf-primary">
    <ion-icon
      name="close-circle"
      size="large"
      (click)="closePopover()"
      class="popover-close-button"
    ></ion-icon>
    <ion-card-title>{{
      'user-state.password-change' | translate
    }}</ion-card-title>
  </ion-card-header>
  <ion-card-content class="ion-padding-top ion-text-center">
    <form
      #changePasswordForm="ngForm"
      (ngSubmit)="onSubmit()"
      class="change-password-form"
    >
      <ion-item>
        <ion-label position="stacked">{{
          'user-state.password-new' | translate
        }}</ion-label>
        <ion-input
          [ngModel]="model.newPassword"
          (ngModelChange)="model.newPassword = $event"
          name="new-password"
          type="password"
          required
          autocomplete="new-password"
          minlength="4"
          clearInput="true"
          clearOnEdit="false"
          (ionChange)="onChange()"
        ></ion-input>
      </ion-item>
      <ion-item>
        <ion-label position="stacked">{{
          'user-state.password-confirm' | translate
        }}</ion-label>
        <ion-input
          [ngModel]="model.confirmPassword"
          (ngModelChange)="model.confirmPassword = $event"
          name="confirm-password"
          type="password"
          required
          autocomplete="new-password"
          minlength="4"
          clearInput="true"
          clearOnEdit="false"
          (ionChange)="onChange()"
        ></ion-input>
      </ion-item>
      <div class="validation-message ion-margin-top">
        @if (showDifferentPasswordMessage) {
          <ion-note color="danger">
            <small>
              <strong>{{ 'user-state.password-error' | translate }}</strong>
            </small>
          </ion-note>
        }
      </div>
      <ion-button
        type="submit"
        shape="round"
        color="fiveten-navy-900"
        [disabled]="!changePasswordForm.form.valid"
        >{{ 'user-state.password-change' | translate }}</ion-button
      >
    </form>
  </ion-card-content>
</ion-card>
