<div
  id="layer-menu-container"
  [ngStyle]="{ height: getLayerMenuContainerHeightInRem() + 'rem' }"
>
  <ion-button
    class="ion-no-margin ion-justify-content-between"
    color="ibf-no-alert-primary "
    id="layer-menu-toggle-button"
    (click)="toggleLayerMenu()"
  >
    <div>
      <ion-text> {{ 'layers-menu.menu-toggle-label' | translate }}</ion-text
      ><ion-icon
        [name]="isLayerMenuOpen ? 'chevron-down-outline' : 'chevron-up-outline'"
      ></ion-icon>
    </div>
  </ion-button>
  <div *ngIf="isLayerMenuOpen" id="layer-menu">
    <ion-list class="ion-no-padding">
      <ion-row
        *ngFor="let layer of getLayersInOrder()"
        class="ion-justify-content-between ion-nowrap"
      >
        <ion-item lines="none">
          <ion-spinner *ngIf="layer.isLoading"></ion-spinner>
          <ng-container *ngIf="!layer.isLoading">
            <ion-icon
              *ngIf="isCheckBox(layer.group)"
              [name]="layer.active ? 'checkbox' : 'square-outline'"
              (click)="toggleLayer(layer)"
              class="single-layer-toggler"
            ></ion-icon>
            <ion-icon
              *ngIf="isRadioButton(layer.group)"
              [name]="
                layer.active
                  ? 'radio-button-on-outline'
                  : 'radio-button-off-outline'
              "
              (click)="toggleLayer(layer)"
              class="single-layer-toggler"
            ></ion-icon>
          </ng-container>
          <ion-label
            class="ion-text-wrap ion-no-margin"
            [title]="layer.label"
            style="margin-left: 8px"
          >
            {{ layer.label }}
          </ion-label>
          <ion-button
            slot="end"
            fill="clear"
            class="ion-no-margin info-button"
            (click)="presentPopover($event, layer)"
            [title]="'aggregates-component.more-information' | translate"
          >
            <ion-icon
              color="ibf-no-alert-primary"
              name="information-circle-outline"
              data-test="matrix-icon"
              class="info-icon"
            ></ion-icon>
          </ion-button>
        </ion-item>
      </ion-row>
    </ion-list>
  </div>
</div>
