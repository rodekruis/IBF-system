<ion-grid>
  <ion-row class="ion-justify-content-between ion-align-items-center">
    <div>
      <ion-title
        class="uppercase-text"
        size="medium"
        data-testid="heading-display-name-label"
      >
        <span data-testid="heading-display-name-span">
          IBF PORTAL
          @if (isLoggedIn) {
            <strong [ngClass]="{ active: disasterType?.alertLevel }">
              {{ showCountry ? countryName : '' }}
              {{ disasterType?.disasterType }} {{ activeTriggerMsg }}
            </strong>
          } @else {
            <strong>
              {{ showEnvironmentLabel(environmentConfiguration) }}
            </strong>
          }
          @if (isLoggedIn && disasterType?.alertLevel) {
            <ion-icon
              src="/assets/icons/Alert_Title_Purple.svg"
              slot="start"
            ></ion-icon>
          }
        </span>
      </ion-title>
    </div>
    <div class="ion-align-items-center">
      <ion-row class="ion-align-items-center">
        <app-logos></app-logos>
        <ion-item lines="none">
          <ion-col class="ion-no-padding">
            @if (isLoggedIn) {
              <ion-title size="small" class="ion-no-padding"
                >Logged In As:</ion-title
              >
              <ion-title
                size="small"
                data-testid="user-display-name"
                class="ion-no-padding"
              >
                <strong
                  (click)="presentPopover()"
                  style="cursor: pointer; text-decoration: underline"
                  >{{ authService.displayName }}</strong
                >
              </ion-title>
            }
          </ion-col>
        </ion-item>
        @if (isLoggedIn) {
          <ion-button
            data-testid="user-state-logout-button"
            class="user-state-log-out-button"
            size="small"
            shape="round"
            fill="outline"
            strong="true"
            color="fiveten-navy-900"
            (click)="doLogout()"
            data-test="logout-button"
          >
            {{ 'user-state.log-out' | translate }}
          </ion-button>
        }
      </ion-row>
    </div>
  </ion-row>
</ion-grid>
